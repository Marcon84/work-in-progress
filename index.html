<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Work in Progress</title>
<style>
    body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background: #ffffff; /* rimane bianco */
        color: #000000;
        font-family: "Courier New", Courier, monospace;
        text-align: center;
    }
    img {
        max-width: 300px;
        margin-bottom: 20px;
    }
    #story, #countdown {
        font-size: 12px;
        letter-spacing: 0.5px;
        line-height: 1.3;
        max-width: 300px;
        white-space: pre-wrap;
        min-height: 30px;
        position: relative;
    }
    #story::after, #countdown::after {
        content: '|';
        animation: blink 1s infinite;
        margin-left: 2px;
    }
    @keyframes blink {
        0%,50%,100% { opacity: 1; }
        25%,75% { opacity: 0; }
    }
</style>
</head>
<body>

<img src="IMG_0579.jpeg" alt="Logo">
<div id="story"></div>
<div id="countdown"></div>

<script>
// Testo della storia
const storyText = `North Sentinel è nato come un marchio che resiste.
Un brand che sfida il consumismo e celebra l’autenticità.
I suoi capi sono edizioni limitate, realizzati con materiali naturali, rigenerati o riciclati.
Ogni pezzo racconta la storia di libertà e resistenza del suo creatore.`;

const storyElement = document.getElementById('story');
const countdownElement = document.getElementById('countdown');
let index = 0;

// Effetto macchina da scrivere per il testo
function typeWriter() {
    if (index < storyText.length) {
        storyElement.innerHTML += storyText.charAt(index);
        index++;
        setTimeout(typeWriter, 150);
    } else {
        showCountdown(); // mostra il countdown dopo il testo
    }
}

typeWriter();

// Digitazione iniziale del countdown (una volta sola)
function typeCountdownOnce(text, callback) {
    let i = 0;
    countdownElement.innerHTML = '';
    countdownElement.style.opacity = 1;
    function type() {
        if (i < text.length) {
            countdownElement.innerHTML += text.charAt(i);
            i++;
            setTimeout(type, 100);
        } else if (callback) {
            callback();
        }
    }
    type();
}

// Mostra countdown e avvia timer normale
function showCountdown() {
    let duration = 2 * 60; // esempio: 2 minuti
    let minutes = Math.floor(duration / 60);
    let seconds = duration % 60;
    typeCountdownOnce(`Countdown: ${minutes}:${seconds < 10 ? '0'+seconds : seconds}`, () => {
        startCountdown(duration);
    });
}

// Timer normale che aggiorna il countdown ogni secondo
function startCountdown(duration) {
    let remaining = duration;
    let interval = setInterval(() => {
        remaining--;
        if (remaining < 0) {
            clearInterval(interval);
            countdownElement.innerHTML = "Tempo scaduto!";
            return;
        }
        let minutes = Math.floor(remaining / 60);
        let seconds = remaining % 60;
        countdownElement.innerHTML = `Countdown: ${minutes}:${seconds < 10 ? '0'+seconds : seconds}`;
    }, 1000);
}
</script>

</body>
</html>
